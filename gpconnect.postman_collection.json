{
	"info": {
		"_postman_id": "b67f7dcc-230d-4503-a4a6-10e431fe3b71",
		"name": "GP Connect",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "v0.7.2",
			"item": [
				{
					"name": "Foundations",
					"item": [
						{
							"name": "Get conformance profile",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"// Get patient NHS Number from environment variables",
											"var patient_nhs_number = pm.environment.get(\"patient_nhs_number\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": \"https://authorize.fhir.nhs.net/token\",",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_record\": {",
											"    \"resourceType\": \"Patient\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"http://fhir.nhs.net/Id/nhs-number\",",
											"        \"value\": patient_nhs_number",
											"      }",
											"    ]",
											"  },",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"http://fhir.nhs.net/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"practitionerRole\": [",
											"      {",
											"        \"role\": {",
											"          \"coding\": [",
											"            {",
											"              \"system\": \"http://fhir.nhs.net/ValueSet/sds-job-role-name-1\",",
											"              \"code\": \"AssuranceJobRole\"",
											"            }",
											"          ]",
											"        }",
											"      }",
											"    ],",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"http://fhir.nhs.net/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      }",
											"    ],",
											"    \"name\": {",
											"      \"family\": [",
											"        \"Demonstrator\"",
											"      ],",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "f66b687c-6a5d-4070-b3d1-2e8280e409b2"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json+fhir"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:read:metadata"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_0_7_x}}/metadata",
									"host": [
										"{{providerURL_0_7_x}}"
									],
									"path": [
										"metadata"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": [],
					"_postman_isSubFolder": true
				},
				{
					"name": "Access Record HTML",
					"item": [
						{
							"name": "Access Record HTML (Summary)",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"// Get patient NHS Number from environment variables",
											"var patient_nhs_number = pm.environment.get(\"patient_nhs_number\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": \"https://authorize.fhir.nhs.net/token\",",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_record\": {",
											"    \"resourceType\": \"Patient\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"http://fhir.nhs.net/Id/nhs-number\",",
											"        \"value\": patient_nhs_number",
											"      }",
											"    ]",
											"  },",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"http://fhir.nhs.net/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"practitionerRole\": [",
											"      {",
											"        \"role\": {",
											"          \"coding\": [",
											"            {",
											"              \"system\": \"http://fhir.nhs.net/ValueSet/sds-job-role-name-1\",",
											"              \"code\": \"AssuranceJobRole\"",
											"            }",
											"          ]",
											"        }",
											"      }",
											"    ],",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"http://fhir.nhs.net/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      }",
											"    ],",
											"    \"name\": {",
											"      \"family\": [",
											"        \"Demonstrator\"",
											"      ],",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "43a19254-0f52-4700-ad3d-e8f173cbca76"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json+fhir"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:operation:gpc.getcarerecord"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json+fhir"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [{\n    \"name\": \"patientNHSNumber\",\n    \"valueIdentifier\": {\n      \"system\": \"http://fhir.nhs.net/Id/nhs-number\",\n      \"value\": \"{{patient_nhs_number}}\"\n    }\n  },\n  {\n    \"name\": \"recordSection\",\n    \"valueCodeableConcept\": {\n      \"coding\": [{\n        \"system\": \"http://fhir.nhs.net/ValueSet/gpconnect-record-section-1\",\n        \"code\": \"SUM\",\n        \"display\": \"Summary\"\n      }]\n    }\n  }]\n}"
								},
								"url": {
									"raw": "{{providerURL_0_7_x}}/Patient/$gpc.getcarerecord",
									"host": [
										"{{providerURL_0_7_x}}"
									],
									"path": [
										"Patient",
										"$gpc.getcarerecord"
									]
								}
							},
							"response": []
						},
						{
							"name": "Access Record HTML (Immunisations)",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"// Get patient NHS Number from environment variables",
											"var patient_nhs_number = pm.environment.get(\"patient_nhs_number\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": \"https://authorize.fhir.nhs.net/token\",",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_record\": {",
											"    \"resourceType\": \"Patient\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"http://fhir.nhs.net/Id/nhs-number\",",
											"        \"value\": patient_nhs_number",
											"      }",
											"    ]",
											"  },",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"http://fhir.nhs.net/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"practitionerRole\": [",
											"      {",
											"        \"role\": {",
											"          \"coding\": [",
											"            {",
											"              \"system\": \"http://fhir.nhs.net/ValueSet/sds-job-role-name-1\",",
											"              \"code\": \"AssuranceJobRole\"",
											"            }",
											"          ]",
											"        }",
											"      }",
											"    ],",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"http://fhir.nhs.net/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      }",
											"    ],",
											"    \"name\": {",
											"      \"family\": [",
											"        \"Demonstrator\"",
											"      ],",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "62e0edf7-6d14-4b32-9544-9875927b3575"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json+fhir"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:operation:gpc.getcarerecord"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json+fhir"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [{\n    \"name\": \"patientNHSNumber\",\n    \"valueIdentifier\": {\n      \"system\": \"http://fhir.nhs.net/Id/nhs-number\",\n      \"value\": \"{{patient_nhs_number}}\"\n    }\n  },\n  {\n    \"name\": \"recordSection\",\n    \"valueCodeableConcept\": {\n      \"coding\": [{\n        \"system\": \"http://fhir.nhs.net/ValueSet/gpconnect-record-section-1\",\n        \"code\": \"IMM\",\n        \"display\": \"Immunisation\"\n      }]\n    }\n  }]\n}"
								},
								"url": {
									"raw": "{{providerURL_0_7_x}}/Patient/$gpc.getcarerecord",
									"host": [
										"{{providerURL_0_7_x}}"
									],
									"path": [
										"Patient",
										"$gpc.getcarerecord"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": [],
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": []
		},
		{
			"name": "v1.2.7",
			"item": [
				{
					"name": "Foundations",
					"item": [
						{
							"name": "Get capability statement",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"organization/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "c147d173-e2e5-4122-9b5c-6b1fff7a695e"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:read:metadata-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/metadata",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"metadata"
									]
								}
							},
							"response": []
						},
						{
							"name": "Find a patient",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "4c197c4d-5a26-4329-a60e-8d2032dfd774"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:search:patient-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Patient?identifier=https://fhir.nhs.uk/Id/nhs-number%7C{{patient_nhs_number}}",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Patient"
									],
									"query": [
										{
											"key": "identifier",
											"value": "https://fhir.nhs.uk/Id/nhs-number%7C{{patient_nhs_number}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Read a patient",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "040e044b-8cd7-4cc7-a348-061f28a66607"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:read:patient-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Patient/2",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Patient",
										"2"
									]
								}
							},
							"response": []
						},
						{
							"name": "Find a practitioner",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"organization/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "7b4d7516-1305-403e-88d8-169d7fcaaba4"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:search:practitioner-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Practitioner?identifier=https://fhir.nhs.uk/Id/sds-user-id%7CG22345655",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Practitioner"
									],
									"query": [
										{
											"key": "identifier",
											"value": "https://fhir.nhs.uk/Id/sds-user-id%7CG22345655"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Read a practitioner",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"organization/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "f435609f-768c-4514-9300-b09a75f428b0"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:read:practitioner-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Practitioner/2",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Practitioner",
										"2"
									]
								}
							},
							"response": []
						},
						{
							"name": "Find an organization",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"organization/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "884121a3-1efc-466f-bdf3-9ff040e0814a"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:search:organization-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Organization?identifier=https://fhir.nhs.uk/Id/ods-organization-code%7CGPC001",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Organization"
									],
									"query": [
										{
											"key": "identifier",
											"value": "https://fhir.nhs.uk/Id/ods-organization-code%7CGPC001"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Read an organization",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"organization/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "f02d593a-3be6-4084-b1b3-11080caf4a7d"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:read:organization-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Organization/1",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Organization",
										"1"
									]
								}
							},
							"response": []
						},
						{
							"name": "Read a location",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"organization/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "c61ecdb9-7595-4569-9f03-e8d174a68133"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:read:location-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Location/1",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Location",
										"1"
									]
								}
							},
							"response": []
						},
						{
							"name": "Register a patient",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.write\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "320b9118-79c9-440f-ba53-d4d715640bfd"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:operation:gpc.registerpatient-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"resourceType\": \"Parameters\",\r\n  \"parameter\": [\r\n    {\r\n      \"name\": \"registerPatient\",\r\n      \"resource\": {\r\n        \"resourceType\": \"Patient\",\r\n        \"extension\": [\r\n          {\r\n            \"url\": \"https://fhir.nhs.uk/STU3/StructureDefinition/Extension-CareConnect-GPC-NHSCommunication-1\",\r\n            \"extension\": [\r\n              {\r\n                \"url\": \"interpreterRequired\",\r\n                \"valueBoolean\": false\r\n              },\r\n              {\r\n                \"url\": \"language\",\r\n                \"valueCodeableConcept\": {\r\n                  \"coding\": [\r\n                    {\r\n                      \"system\": \"https://fhir.nhs.uk/STU3/ValueSet/CareConnect-HumanLanguage-1\",\r\n                      \"code\": \"sk\"\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        \"identifier\": [\r\n          {\r\n            \"extension\": [\r\n              {\r\n                \"url\": \"https://fhir.nhs.uk/STU3/StructureDefinition/Extension-CareConnect-GPC-NHSNumberVerificationStatus-1\",\r\n                \"valueCodeableConcept\": {\r\n                  \"coding\": [\r\n                    {\r\n                      \"system\": \"https://fhir.nhs.uk/STU3/ValueSet/CareConnect-NHSNumberVerificationStatus-1\",\r\n                      \"code\": \"01\"\r\n                    }\r\n                  ],\r\n                  \"text\": \"Slovak\"\r\n                }\r\n              }\r\n            ],\r\n            \"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\r\n            \"value\": \"4071103582\"\r\n          }\r\n        ],\r\n        \"name\": [\r\n          {\r\n            \"use\": \"official\",\r\n            \"family\": \"Example\",\r\n            \"given\": [\r\n              \"Newly\",\r\n              \"Registered\"\r\n            ]\r\n          }\r\n        ],\r\n        \"telecom\": [\r\n          {\r\n            \"system\": \"email\",\r\n            \"value\": \"register.example@gpconnect.com\",\r\n            \"use\": \"home\"\r\n          },\r\n          {\r\n            \"system\": \"phone\",\r\n            \"value\": \"01251478956\",\r\n            \"use\": \"home\"\r\n          }\r\n        ],\r\n        \"gender\": \"other\",\r\n        \"birthDate\": \"2018-11-01\",\r\n        \"address\": [\r\n          {\r\n            \"use\": \"temp\",\r\n            \"line\": [\r\n              \"56 Treville Road\"\r\n            ],\r\n            \"city\": \"Leeds\",\r\n            \"postalCode\": \"LS13 4RB\",\r\n            \"country\": \"West Yorkshire\"\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}"
								},
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Patient/$gpc.registerpatient",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Patient",
										"$gpc.registerpatient"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": [],
					"_postman_isSubFolder": true
				},
				{
					"name": "Appointments",
					"item": [
						{
							"name": "Amend an appointment",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.write\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "e7925c43-8c15-461f-829c-c84b375c3dcf"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:update:appointment-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"resourceType\": \"Appointment\",\r\n  \"id\": \"6\",\r\n  \"meta\": {\r\n    \"versionId\": \"1541155171000\",\r\n    \"lastUpdated\": \"2018-11-02T10:39:31.000+00:00\",\r\n    \"profile\": [\r\n      \"https://fhir.nhs.uk/STU3/StructureDefinition/GPConnect-Appointment-1\"\r\n    ]\r\n  },\r\n  \"extension\": [\r\n    {\r\n      \"url\": \"https://fhir.nhs.uk/STU3/StructureDefinition/Extension-GPConnect-DeliveryChannel-2\",\r\n      \"valueCode\": \"In-person\"\r\n    },\r\n    {\r\n      \"url\": \"https://fhir.nhs.uk/STU3/StructureDefinition/Extension-GPConnect-PractitionerRole-1\",\r\n      \"valueCodeableConcept\": {\r\n        \"coding\": [\r\n          {\r\n            \"system\": \"https://fhir.nhs.uk/STU3/ValueSet/GPConnect-PractitionerRole-1\",\r\n            \"code\": \"R0050\",\r\n            \"display\": \"Consultant\"\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ],\r\n  \"identifier\": [\r\n    {\r\n      \"system\": \"https://fhir.nhs.uk/Id/gpconnect-appointment-identifier\",\r\n      \"value\": \"5\"\r\n    }\r\n  ],\r\n  \"status\": \"booked\",\r\n  \"appointmentType\": {\r\n    \"coding\": [\r\n      {\r\n        \"system\": \"http://hl7.org/fhir/ValueSet/c80-practice-codes\",\r\n        \"code\": \"1\"\r\n      }\r\n    ],\r\n    \"text\": \"In-person\"\r\n  },\r\n  \"priority\": 0,\r\n  \"description\": \"A new amended description\",\r\n  \"start\": \"2018-11-02T15:54:02.262+00:00\",\r\n  \"end\": \"2018-11-02T16:23:59.802+00:00\",\r\n  \"minutesDuration\": 0,\r\n  \"slot\": [\r\n    {\r\n      \"reference\": \"Slot/419\"\r\n    }\r\n  ],\r\n  \"created\": \"2018-11-02T10:39:35+00:00\",\r\n  \"participant\": [\r\n    {\r\n      \"actor\": {\r\n        \"reference\": \"Patient/1\"\r\n      },\r\n      \"status\": \"accepted\"\r\n    },\r\n    {\r\n      \"actor\": {\r\n        \"reference\": \"Location/1\"\r\n      },\r\n      \"status\": \"accepted\"\r\n    },\r\n    {\r\n      \"actor\": {\r\n        \"reference\": \"Practitioner/1\"\r\n      },\r\n      \"status\": \"accepted\"\r\n    }\r\n  ]\r\n}"
								},
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Appointment/6",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Appointment",
										"6"
									]
								}
							},
							"response": []
						},
						{
							"name": "Retrieve a patients appointments",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											"",
											"",
											"// Setup search dates",
											"var paramStartTime = new Date();",
											"var paramEndTime = new Date(currentTime.getTime() + 259200000); // 3 days after current date",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_search_start_date\", paramStartTime.toISOString().split('T')[0]);",
											"pm.environment.set(\"pre_request_script_generated_search_end_date\", paramEndTime.toISOString().split('T')[0]);",
											""
										],
										"id": "f7a7577b-c1c6-483b-affe-7e87bff554a5"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:search:patient_appointments-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Patient/2/Appointment?start=ge{{pre_request_script_generated_search_start_date}}&start=le{{pre_request_script_generated_search_end_date}}",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Patient",
										"2",
										"Appointment"
									],
									"query": [
										{
											"key": "start",
											"value": "ge{{pre_request_script_generated_search_start_date}}"
										},
										{
											"key": "start",
											"value": "le{{pre_request_script_generated_search_end_date}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Search for free slots",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											"",
											"",
											"// Setup search dates",
											"var paramStartTime = new Date();",
											"var paramEndTime = new Date(currentTime.getTime() + 259200000); // 3 days after current date",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_search_start_date\", paramStartTime.toISOString().split('T')[0]);",
											"pm.environment.set(\"pre_request_script_generated_search_end_date\", paramEndTime.toISOString().split('T')[0]);",
											""
										],
										"id": "71a0d26f-d322-4c09-8813-6f6341fb3b98"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:search:slot-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Slot?start=ge{{pre_request_script_generated_search_start_date}}&end=le{{pre_request_script_generated_search_end_date}}&status=free&_include=Slot:schedule&_include:recurse=Schedule:actor:Practitioner&_include:recurse=Schedule:actor:Location&searchFilter=https://fhir.nhs.uk/Id/ods-organization-code%7CGPC001&searchFilter=https://fhir.nhs.uk/STU3/ValueSet/GPConnect-OrganisationType-1%7Curgent care",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Slot"
									],
									"query": [
										{
											"key": "start",
											"value": "ge{{pre_request_script_generated_search_start_date}}"
										},
										{
											"key": "end",
											"value": "le{{pre_request_script_generated_search_end_date}}"
										},
										{
											"key": "status",
											"value": "free"
										},
										{
											"key": "_include",
											"value": "Slot:schedule"
										},
										{
											"key": "_include:recurse",
											"value": "Schedule:actor:Practitioner"
										},
										{
											"key": "_include:recurse",
											"value": "Schedule:actor:Location"
										},
										{
											"key": "searchFilter",
											"value": "https://fhir.nhs.uk/Id/ods-organization-code%7CGPC001"
										},
										{
											"key": "searchFilter",
											"value": "https://fhir.nhs.uk/STU3/ValueSet/GPConnect-OrganisationType-1%7Curgent care"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Read an appointment",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "7679ff82-be85-4029-9cdd-fa098f761b3a"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:read:appointment-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Appointment/2",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Appointment",
										"2"
									]
								}
							},
							"response": []
						},
						{
							"name": "Book an appointment",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.write\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "26ae3183-8600-41ec-8ec4-e2a039ae1dff"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:create:appointment-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"resourceType\": \"Appointment\",\r\n  \"meta\": {\r\n    \"profile\": [\r\n      \"https://fhir.nhs.uk/STU3/StructureDefinition/GPConnect-Appointment-1\"\r\n    ]\r\n  },\r\n  \"contained\": [\r\n    {\r\n      \"resourceType\": \"Organization\",\r\n      \"id\": \"1\",\r\n      \"meta\": {\r\n        \"profile\": [\r\n          \"https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-GPC-Organization-1\"\r\n        ]\r\n      },\r\n      \"identifier\": [\r\n        {\r\n          \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",\r\n          \"value\": \"GPC001\"\r\n        }\r\n      ],\r\n      \"name\": \"Test Organization Name\",\r\n      \"telecom\": [\r\n        {\r\n          \"system\": \"phone\",\r\n          \"value\": \"0300 303 5678\"\r\n        }\r\n      ]\r\n    }\r\n  ],\r\n  \"extension\": [\r\n    {\r\n      \"url\": \"https://fhir.nhs.uk/STU3/StructureDefinition/Extension-GPConnect-BookingOrganisation-1\",\r\n      \"valueReference\": {\r\n        \"reference\": \"Organisation/1\"\r\n      }\r\n    }\r\n  ],\r\n  \"status\": \"booked\",\r\n  \"appointmentType\": {\r\n    \"coding\": [\r\n      {\r\n        \"system\": \"http://hl7.org/fhir/ValueSet/c80-practice-codes\",\r\n        \"code\": \"408443003\",\r\n        \"display\": \"General medical practice\"\r\n      }\r\n    ]\r\n  },\r\n  \"description\": \"A test appointment\",\r\n  \"start\": \"2018-11-01T15:54:02.262+00:00\",\r\n  \"end\": \"2018-11-01T16:23:59.802+00:00\",\r\n  \"slot\": [\r\n    {\r\n      \"reference\": \"Slot/349\"\r\n    }\r\n  ],\r\n  \"created\": \"2018-11-01T15:54:02+00:00\",\r\n  \"participant\": [\r\n    {\r\n      \"actor\": {\r\n        \"reference\": \"Patient/2\"\r\n      },\r\n      \"status\": \"accepted\"\r\n    },\r\n    {\r\n      \"actor\": {\r\n        \"reference\": \"Location/1\"\r\n      },\r\n      \"status\": \"accepted\"\r\n    }\r\n  ]\r\n}"
								},
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Appointment",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Appointment"
									]
								}
							},
							"response": []
						},
						{
							"name": "Cancel an appointment",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_appointments\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.write\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "4026692d-8ba8-4181-bd9a-8a48fef22a81"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:rest:update:appointment-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"resourceType\": \"Appointment\",\r\n  \"id\": \"8\",\r\n  \"meta\": {\r\n    \"versionId\": \"1541157030000\",\r\n    \"lastUpdated\": \"2018-11-02T11:10:30.000+00:00\",\r\n    \"profile\": [\r\n      \"https://fhir.nhs.uk/STU3/StructureDefinition/GPConnect-Appointment-1\"\r\n    ]\r\n  },\r\n  \"extension\": [\r\n    {\r\n      \"url\": \"https://fhir.nhs.uk/STU3/StructureDefinition/Extension-GPConnect-DeliveryChannel-2\",\r\n      \"valueCode\": \"In-person\"\r\n    },\r\n    {\r\n      \"url\": \"https://fhir.nhs.uk/STU3/StructureDefinition/Extension-GPConnect-PractitionerRole-1\",\r\n      \"valueCodeableConcept\": {\r\n        \"coding\": [\r\n          {\r\n            \"system\": \"https://fhir.nhs.uk/STU3/ValueSet/GPConnect-PractitionerRole-1\",\r\n            \"code\": \"R0050\",\r\n            \"display\": \"Consultant\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"url\": \"https://fhir.nhs.uk/STU3/StructureDefinition/Extension-GPConnect-AppointmentCancellationReason-1\",\r\n      \"valueString\": \"Free text cancellation reason.\"\r\n    }\r\n  ],\r\n  \"identifier\": [\r\n    {\r\n      \"system\": \"https://fhir.nhs.uk/Id/gpconnect-appointment-identifier\",\r\n      \"value\": \"8\"\r\n    }\r\n  ],\r\n  \"status\": \"cancelled\",\r\n  \"appointmentType\": {\r\n    \"coding\": [\r\n      {\r\n        \"system\": \"http://hl7.org/fhir/ValueSet/c80-practice-codes\",\r\n        \"code\": \"1\"\r\n      }\r\n    ],\r\n    \"text\": \"In-person\"\r\n  },\r\n  \"priority\": 0,\r\n  \"description\": \"A test appointment\",\r\n  \"start\": \"2018-11-02T11:19:35.000+00:00\",\r\n  \"end\": \"2018-11-02T11:19:35.000+00:00\",\r\n  \"minutesDuration\": 0,\r\n  \"slot\": [\r\n    {\r\n      \"reference\": \"Slot/700\"\r\n    }\r\n  ],\r\n  \"created\": \"2018-11-02T11:10:35+00:00\",\r\n  \"participant\": [\r\n    {\r\n      \"actor\": {\r\n        \"reference\": \"Patient/1\"\r\n      },\r\n      \"status\": \"accepted\"\r\n    },\r\n    {\r\n      \"actor\": {\r\n        \"reference\": \"Location/1\"\r\n      },\r\n      \"status\": \"accepted\"\r\n    },\r\n    {\r\n      \"actor\": {\r\n        \"reference\": \"Practitioner/1\"\r\n      },\r\n      \"status\": \"accepted\"\r\n    }\r\n  ]\r\n}"
								},
								"url": {
									"raw": "{{providerURL_1_2_x_appointments}}/Appointment/8",
									"host": [
										"{{providerURL_1_2_x_appointments}}"
									],
									"path": [
										"Appointment",
										"8"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": [],
					"_postman_isSubFolder": true
				},
				{
					"name": "Access Record Structured",
					"item": [
						{
							"name": "Get structured capability statement",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "be2a58a5-f101-414b-a271-65855d64bb32",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_structured\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"organization/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:structured:fhir:rest:read:metadata-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_2_x_structured}}/metadata",
									"host": [
										"{{providerURL_1_2_x_structured}}"
									],
									"path": [
										"metadata"
									]
								}
							},
							"response": []
						},
						{
							"name": "Access Record Structured (Allergies and Medications)",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_2_x_structured\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"id": "e355673c-4aae-42f9-92f0-e3354511988a"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:operation:gpc.getstructuredrecord-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n  {\n\t\"name\": \"patientNHSNumber\",\n\t\"valueIdentifier\": {\n\t\t\"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\n\t    \"value\": \"{{patient_nhs_number}}\"\n\t}\n  },\n  {\n    \"name\": \"includeAllergies\",\n    \"part\": [ {\n\t\t\"name\": \"includeResolvedAllergies\",\n\t    \"valueBoolean\": true\n\t}\n\t]\n  },\n  {\n\t\"name\": \"includeMedication\",\n\t\"part\": [\n\t{\n\t\t\"name\": \"includePrescriptionIssues\",\n\t    \"valueBoolean\": true\n\t},\n\t{\n\t\t\"name\": \"medicationSearchFromDate\",\n\t    \"valueDate\": \"1980-06-05\"\n\t}\n\t]\n  }\n  ]\n}\n\n\n"
								},
								"url": {
									"raw": "{{providerURL_1_2_x_structured}}/Patient/$gpc.getstructuredrecord",
									"host": [
										"{{providerURL_1_2_x_structured}}"
									],
									"path": [
										"Patient",
										"$gpc.getstructuredrecord"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": [],
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": []
		},
		{
			"name": "v1.5",
			"item": [
				{
					"name": "Access Document",
					"item": [
						{
							"name": "Get documents capability statement",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "700aa1a8-a709-4865-8667-e7139835e6c4",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_5_x_documents\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"organization/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to-1_5_x}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:documents:fhir:rest:read:metadata-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_5_x_documents}}/metadata",
									"host": [
										"{{providerURL_1_5_x_documents}}"
									],
									"path": [
										"metadata"
									]
								}
							},
							"response": []
						},
						{
							"name": "Find a patient",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "3d4410b4-8ee7-48d2-aa6f-d5e9c0319160",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_5_x_documents\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to-1_5_x}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:documents:fhir:rest:search:patient-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_5_x_documents}}/Patient?identifier=https://fhir.nhs.uk/Id/nhs-number%7C{{patient_nhs_number_1_5_x}}",
									"host": [
										"{{providerURL_1_5_x_documents}}"
									],
									"path": [
										"Patient"
									],
									"query": [
										{
											"key": "identifier",
											"value": "https://fhir.nhs.uk/Id/nhs-number%7C{{patient_nhs_number_1_5_x}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Search for a patient's documents",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "23a5d0c4-d453-462e-8992-f92200a5d983",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_5_x_documents\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to-1_5_x}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:documents:fhir:rest:search:documentreference-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_5_x_documents}}/Patient/2/DocumentReference?_include=DocumentReference%3Asubject%3APatient&_include=DocumentReference%3Acustodian%3AOrganization&_include=DocumentReference%3Aauthor%3AOrganization&_include=DocumentReference%3Aauthor%3APractitioner&_revinclude%3Arecurse=PractitionerRole%3Apractitioner",
									"host": [
										"{{providerURL_1_5_x_documents}}"
									],
									"path": [
										"Patient",
										"2",
										"DocumentReference"
									],
									"query": [
										{
											"key": "_include",
											"value": "DocumentReference%3Asubject%3APatient"
										},
										{
											"key": "_include",
											"value": "DocumentReference%3Acustodian%3AOrganization"
										},
										{
											"key": "_include",
											"value": "DocumentReference%3Aauthor%3AOrganization"
										},
										{
											"key": "_include",
											"value": "DocumentReference%3Aauthor%3APractitioner"
										},
										{
											"key": "_revinclude%3Arecurse",
											"value": "PractitionerRole%3Apractitioner"
										},
										{
											"key": "created",
											"value": "ge2001-01-01",
											"disabled": true
										},
										{
											"key": "created",
											"value": "le2020-09-01",
											"disabled": true
										},
										{
											"key": "author",
											"value": "https%3A%2F%2Ffhir.nhs.uk%2FId%2Fods-organization-code%7CB82617",
											"disabled": true
										},
										{
											"key": "description",
											"value": "Description search",
											"disabled": true
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Retrieve a document",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "477689fc-4691-4992-a0bc-5aae7fdef20d",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_5_x_documents\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"organization/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to-1_5_x}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:documents:fhir:rest:read:binary-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_5_x_documents}}/Binary/07a6483f-732b-461e-86b6-edb665c45510",
									"host": [
										"{{providerURL_1_5_x_documents}}"
									],
									"path": [
										"Binary",
										"07a6483f-732b-461e-86b6-edb665c45510"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": [],
					"_postman_isSubFolder": true
				},
				{
					"name": "Access Record Structured",
					"item": [
						{
							"name": "Get structured capability statement",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a25f8aba-4903-4ead-81b0-f01f81da6bb7",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_5_x_structured\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"organization/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to-1_5_x}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:structured:fhir:rest:read:metadata-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"url": {
									"raw": "{{providerURL_1_5_x_structured}}/metadata",
									"host": [
										"{{providerURL_1_5_x_structured}}"
									],
									"path": [
										"metadata"
									]
								}
							},
							"response": []
						},
						{
							"name": "Access Record Structured (Example 1)",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0644f839-21c3-4104-aebb-a8849de9d9f8",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_5_x_structured\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to-1_5_x}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:operation:gpc.getstructuredrecord-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n  {\n\t\"name\": \"patientNHSNumber\",\n\t\"valueIdentifier\": {\n\t\t\"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\n\t    \"value\": \"{{patient_nhs_number_1_5_x}}\"\n\t}\n  },\n  {\n    \"name\": \"includeAllergies\",\n    \"part\": [ {\n\t\t\"name\": \"includeResolvedAllergies\",\n\t    \"valueBoolean\": true\n\t}\n\t]\n  },\n  {\n\t\"name\": \"includeMedication\",\n\t\"part\": [\n\t{\n\t\t\"name\": \"includePrescriptionIssues\",\n\t    \"valueBoolean\": true\n\t},\n\t{\n\t\t\"name\": \"medicationSearchFromDate\",\n\t    \"valueDate\": \"1980-06-05\"\n\t}\n\t]\n  }\n  ]\n}\n\n\n"
								},
								"url": {
									"raw": "{{providerURL_1_5_x_structured}}/Patient/$gpc.getstructuredrecord",
									"host": [
										"{{providerURL_1_5_x_structured}}"
									],
									"path": [
										"Patient",
										"$gpc.getstructuredrecord"
									]
								}
							},
							"response": []
						},
						{
							"name": "Access Record Structured (Example 2)",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "e20ba8c7-dd7a-4620-8f1e-6883338c2556",
										"exec": [
											"var targetURI = pm.environment.get(\"providerURL_1_5_x_structured\");",
											"",
											"var requesting_organization_ODS_Code = pm.environment.get(\"requesting_organization_ODS_Code\");",
											"",
											"// Construct the JWT token for the request",
											"var currentTime = new Date();",
											"var expiryTime = new Date(currentTime.getTime() + 300000); // 5 mins after current time",
											"var jwtCreationTime = Math.round(currentTime.getTime() / 1000);",
											"var jwtExpiryTime = Math.round(expiryTime.getTime() / 1000);",
											"",
											"var header = {",
											"  \"alg\": \"none\",",
											"  \"typ\": \"JWT\"",
											"};",
											"",
											"var payload = {",
											"  \"iss\": \"http://gpconnect-postman-url\",",
											"  \"sub\": \"1\",",
											"  \"aud\": targetURI,",
											"  \"exp\": jwtExpiryTime,",
											"  \"iat\": jwtCreationTime,",
											"  \"reason_for_request\": \"directcare\",",
											"  \"requested_scope\": \"patient/*.read\",",
											"  \"requesting_device\": {",
											"    \"resourceType\": \"Device\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"Web Interface\",",
											"        \"value\": \"Postman example consumer\"",
											"      }",
											"    ],",
											"    \"model\": \"Postman\",",
											"    \"version\": \"1.0\"",
											"  },",
											"  \"requesting_organization\": {",
											"    \"resourceType\": \"Organization\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/ods-organization-code\",",
											"        \"value\": requesting_organization_ODS_Code",
											"      }",
											"    ],",
											"    \"name\": \"Postman Organization\"",
											"  },",
											"  \"requesting_practitioner\": {",
											"    \"resourceType\": \"Practitioner\",",
											"    \"id\": \"1\",",
											"    \"identifier\": [",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",",
											"        \"value\": \"G13579135\"",
											"      },",
											"      {",
											"        \"system\": \"https://fhir.nhs.uk/Id/sds-role-profile-id\",",
											"        \"value\": \"111111111\"",
											"      },",
											"    ],",
											"    \"name\": [{",
											"      \"family\": \"Demonstrator\",",
											"      \"given\": [",
											"        \"GPConnect\"",
											"      ],",
											"      \"prefix\": [",
											"        \"Mr\"",
											"      ]",
											"    }]",
											"  }",
											"};",
											"",
											"function base64url(source) {",
											"  // Encode in classical base64",
											"  encodedSource = CryptoJS.enc.Base64.stringify(source);",
											"  // Remove padding equal characters",
											"  encodedSource = encodedSource.replace(/=+$/, '');",
											"  // Replace characters according to base64url specifications",
											"  encodedSource = encodedSource.replace(/\\+/g, '-');",
											"  encodedSource = encodedSource.replace(/\\//g, '_');",
											"  return encodedSource;",
											"}",
											"",
											"// Encode the JWT data into the base64url encoded string",
											"var stringifiedHeader = CryptoJS.enc.Utf8.parse(JSON.stringify(header));",
											"var encodedHeader = base64url(stringifiedHeader);",
											"var stringifiedPayload = CryptoJS.enc.Utf8.parse(JSON.stringify(payload));",
											"var encodedPayload = base64url(stringifiedPayload);",
											"var jwtString = encodedHeader + \".\" + encodedPayload + \".\";",
											"",
											"// Set the environment variable used in the payload",
											"pm.environment.set(\"pre_request_script_generated_JWT\", jwtString);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/fhir+json"
									},
									{
										"key": "Ssp-From",
										"value": "{{ssp-from}}"
									},
									{
										"key": "Ssp-To",
										"value": "{{ssp-to-1_5_x}}"
									},
									{
										"key": "Ssp-InteractionID",
										"value": "urn:nhs:names:services:gpconnect:fhir:operation:gpc.getstructuredrecord-1"
									},
									{
										"key": "Ssp-TraceID",
										"value": "{{$guid}}"
									},
									{
										"key": "Content-Type",
										"value": "application/fhir+json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{pre_request_script_generated_JWT}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n  {\n\t\"name\": \"patientNHSNumber\",\n\t\"valueIdentifier\": {\n\t\t\"system\": \"https://fhir.nhs.uk/Id/nhs-number\",\n\t    \"value\": \"{{patient_nhs_number_1_5_x}}\"\n\t}\n  },\n    {\n      \"name\": \"includeAllergies\",\n      \"part\": [\n        {\n          \"name\": \"includeResolvedAllergies\",\n          \"valueBoolean\": true\n        }\n      ]\n    },\n    {\n      \"name\": \"includeMedication\"\n    },\n    {\n      \"name\": \"includeConsultations\",\n      \"part\": [\n        {\n          \"name\": \"includeNumberOfMostRecent\",\n          \"valueInteger\": 3\n        }\n      ]\n    },\n    {\n      \"name\": \"includeProblems\"\n    },\n    {\n      \"name\": \"includeImmunisations\"\n    },\n    {\n      \"name\": \"includeUncategorisedData\"\n    },\n    {\n      \"name\": \"includeInvestigations\"\n    },\n    {\n      \"name\": \"includeReferrals\"\n    }\n  ]\n}"
								},
								"url": {
									"raw": "{{providerURL_1_5_x_structured}}/Patient/$gpc.getstructuredrecord",
									"host": [
										"{{providerURL_1_5_x_structured}}"
									],
									"path": [
										"Patient",
										"$gpc.getstructuredrecord"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": [],
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": []
		}
	],
	"protocolProfileBehavior": []
}